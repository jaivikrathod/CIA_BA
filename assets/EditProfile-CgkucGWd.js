import{e as b,u as p,d as x,r as j,t as i,j as e,O as N}from"./index-CRICFKxU.js";function w(){const{register:t,handleSubmit:n,formState:{errors:s,isDirty:d,touchedFields:v},reset:u,setValue:g}=b(),o=p(),c=x(a=>a.id);j.useEffect(()=>{h()},[]);const h=async()=>{var a,l;try{const r=await o.get("/particular-user-detail",{params:{user_id:c}});r.data.success&&u(r.data.data)}catch(r){i.error(((l=(a=r.response)==null?void 0:a.data)==null?void 0:l.message)||"An error occurred while submitting the form.")}},f=async a=>{var l,r;if(!d){i.error("No changes were made to update");return}a.id=c;try{if((await o.post("/update-particular-user",a)).data.message)i.success("Details updated successfully!");else throw new Error("Submission failed")}catch(m){i.error(((r=(l=m.response)==null?void 0:l.data)==null?void 0:r.message)||"An error occurred while submitting the form.")}};return e.jsxs("div",{className:"container",children:[e.jsx(N,{position:"top-right"}),e.jsx("div",{className:"row mb-4",children:e.jsx("div",{className:"col-12",children:e.jsx("h2",{className:"",style:{color:"#2c3e50",fontWeight:"600"},children:"Update Profile"})})}),e.jsxs("form",{onSubmit:n(f),className:"row g-3",children:[e.jsxs("div",{className:"col-md-6",children:[e.jsx("label",{htmlFor:"full_name",className:"form-label",children:"Full name"}),e.jsx("input",{type:"text",id:"full_name",className:`form-control ${s.full_name?"is-invalid":""}`,placeholder:"Enter Full Name",...t("full_name",{required:"Full name is required"})}),s.full_name&&e.jsx("div",{className:"invalid-feedback",children:s.full_name.message})]}),e.jsxs("div",{className:"col-md-6",children:[e.jsx("label",{htmlFor:"email",className:"form-label",children:"Email"}),e.jsx("input",{type:"text",id:"email",className:`form-control ${s.email?"is-invalid":""}`,placeholder:"Enter email",...t("email",{required:"Email is required"})}),s.email&&e.jsx("div",{className:"invalid-feedback",children:s.email.message})]}),e.jsxs("div",{className:"col-md-6",children:[e.jsx("label",{htmlFor:"mobile",className:"form-label",children:"Mobile"}),e.jsx("input",{type:"text",id:"mobile",className:`form-control ${s.mobile?"is-invalid":""}`,...t("mobile",{required:"Mobile number is required"})}),s.mobile&&e.jsx("div",{className:"invalid-feedback",children:s.mobile.message})]}),e.jsx("div",{className:"col-12 mt-4",children:e.jsx("button",{type:"submit",className:"btn btn-primary",children:"Submit"})})]})]})}export{w as default};
