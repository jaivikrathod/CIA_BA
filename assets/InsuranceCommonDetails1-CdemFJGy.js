import{g as j,w as M,r as N,u as b,j as e}from"./index-BN8hKp7N.js";import{u as g}from"./index.esm-BXp1b-Ih.js";import{V as n}from"./index-CsU9V8LM.js";import{u as y}from"./DefaultLayout-gdVRfkwL.js";import"./index-t--hEgTQ.js";function F(){const{register:l,handleSubmit:t,formState:{errors:r}}=g(),d=j(),m=y(),{id:u}=M(),[h,f]=N.useState([]),v=b(s=>s.id),c={manufacturers:[{name:"Toyota",vehicles:["Corolla","Camry","RAV4","Fortuner"]},{name:"Honda",vehicles:["Civic","Accord","Activa","CBR 650R"]},{name:"Bajaj",vehicles:["Pulsar","Avenger","Dominar 400","CT 100"]},{name:"Tesla",vehicles:["Model S","Model 3","Model X","Model Y"]}]},x=s=>{const a=c.manufacturers.find(i=>i.name===s);f(a?a.vehicles:[])},p=async s=>{var a,i;s.id=u,s.userid=v;try{if((await m.post("/common-vehical",s)).data.message)n.success("Form submitted successfully!"),d(`/common-insurance2/${s.id}`);else throw new Error("Submission failed")}catch(o){n.error(((i=(a=o.response)==null?void 0:a.data)==null?void 0:i.message)||"An error occurred while submitting the form.")}};return e.jsx("div",{className:"container mt-5",children:e.jsxs("form",{onSubmit:t(p),className:"row g-3",children:[e.jsxs("div",{className:"col-md-6",children:[e.jsx("label",{htmlFor:"Register_No",className:"form-label",children:"Register No"}),e.jsx("input",{type:"text",id:"Register_No",className:`form-control ${r.Register_No?"is-invalid":""}`,placeholder:"GJ01xxxx",...l("Register_No",{required:"Register No is required"})}),r.Register_No&&e.jsx("div",{className:"invalid-feedback",children:r.Register_No.message})]}),e.jsxs("div",{className:"col-md-6",children:[e.jsx("label",{htmlFor:"Manufacturer",className:"form-label",children:"Manufacturer"}),e.jsxs("select",{id:"Manufacturer",className:`form-select ${r.Manufacturer?"is-invalid":""}`,...l("Manufacturer",{required:"Manufacturer is required"}),onChange:s=>x(s.target.value),children:[e.jsx("option",{value:"",children:"Select Manufacturer"}),c.manufacturers.map(s=>e.jsx("option",{value:s.name,children:s.name},s.name))]}),r.Manufacturer&&e.jsx("div",{className:"invalid-feedback",children:r.Manufacturer.message})]}),e.jsxs("div",{className:"col-md-6",children:[e.jsx("label",{htmlFor:"Model",className:"form-label",children:"Model"}),e.jsxs("select",{id:"Model",className:`form-select ${r.Model?"is-invalid":""}`,...l("Model",{required:"Model is required"}),children:[e.jsx("option",{value:"",children:"Select Model"}),h.map((s,a)=>e.jsx("option",{value:s,children:s},a))]}),r.Model&&e.jsx("div",{className:"invalid-feedback",children:r.Model.message})]}),e.jsxs("div",{className:"col-md-6",children:[e.jsx("label",{htmlFor:"fuel_type",className:"form-label",children:"Fuel Type"}),e.jsxs("select",{id:"fuel_type",className:`form-select ${r.fuel_type?"is-invalid":""}`,...l("fuel_type",{required:"Fuel Type is required"}),children:[e.jsx("option",{value:"",children:"Select Type"}),e.jsx("option",{value:"petrol",children:"Petrol"}),e.jsx("option",{value:"diesel",children:"Diesel"}),e.jsx("option",{value:"electric",children:"Electric"}),e.jsx("option",{value:"hybrid",children:"Hybrid"})]}),r.fuel_type&&e.jsx("div",{className:"invalid-feedback",children:r.fuel_type.message})]}),e.jsxs("div",{className:"col-md-6",children:[e.jsx("label",{htmlFor:"YOM",className:"form-label",children:"Year of Manufacture"}),e.jsx("input",{type:"number",id:"YOM",className:`form-control ${r.YOM?"is-invalid":""}`,placeholder:"YYYY",...l("YOM",{required:"Year of Manufacture is required"})}),r.YOM&&e.jsx("div",{className:"invalid-feedback",children:r.YOM.message})]}),e.jsx("div",{className:"col-12",children:e.jsx("button",{type:"submit",className:"btn btn-primary",children:"Submit"})})]})})}export{F as default};
