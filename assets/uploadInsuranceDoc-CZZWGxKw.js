import{r as i,s as u,u as j,d as g,c as f,j as e}from"./index-CRICFKxU.js";import{y as v,k as b,n as N,M as w}from"./DefaultLayout-C5VH_Vit.js";import"./iconBase-K3-QF6rt.js";function C(){const[n,l]=i.useState({show:!1,id:null}),[a,r]=i.useState([]),{id:c}=u(),d=j(),m=g(s=>s.apiUrl),h=f();i.useEffect(()=>{o()},[]);const p=()=>{l({show:!0,id:c})},x=s=>{l({show:!1}),o()},o=async()=>{try{const s=await d.get("/particular-insurance-document",{params:{id:c}});let t=JSON.parse(s.data.data.documents);r(t)}catch(s){console.log(s),v.error("Failed to fetch insurance details")}};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("span",{children:"Upload Document"}),e.jsx("button",{onClick:()=>p(),className:"btn btn-link",title:"Upload",children:e.jsx(b,{})})]}),e.jsx("div",{className:"d-flex gap-5 flex-wrap",children:(a==null?void 0:a.length)>0&&a.map((s,t)=>e.jsx(e.Fragment,{children:e.jsx("div",{className:"col-md-4 mb-3",children:e.jsx("div",{className:"card h-100",children:e.jsxs("div",{className:"card-body",children:[e.jsxs("div",{className:"d-flex align-items-center",children:[s.name.toLowerCase().endsWith(".pdf")?e.jsx("div",{className:"position-relative",children:e.jsx("img",{src:pdf2,alt:s.type,className:"img-thumbnail me-2",style:{width:"40px",height:"40px",objectFit:"cover"}})}):e.jsx(e.Fragment,{children:e.jsx("div",{className:"position-relative",children:e.jsx("img",{src:`${m}/get-insurance-docs/${s.name}`,alt:s.type,className:"img-thumbnail me-2",style:{width:"40px",height:"40px",objectFit:"cover"}})})}),e.jsx("div",{children:e.jsx("h6",{className:"card-title mb-0",children:s.type})})]}),e.jsx("button",{className:"btn btn-sm btn-outline-primary mt-2",onClick:()=>handleDocumentClick(s),children:"View Document"}),e.jsx("div",{className:"ms-3",children:e.jsx("div",{className:"d-flex justify-content-center align-items-center rounded-circle bg-danger position-absolute",style:{width:"20px",height:"20px",cursor:"pointer",top:"-8px",right:"-10px"},children:e.jsx(N,{color:"white",size:10})})})]})})},t)}))}),e.jsx("div",{children:e.jsx("button",{onClick:()=>h("/insurance"),children:"continue"})}),e.jsx(w,{customerId:n.id,show:n.show,isCustomerDoc:!1,handleClose:x})]})}export{C as default};
