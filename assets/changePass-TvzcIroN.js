import{w as m,g as w,j as s}from"./index-BN8hKp7N.js";import{u as p}from"./index.esm-BXp1b-Ih.js";import{a as h}from"./index-t--hEgTQ.js";import{O as f,V as e}from"./index-CsU9V8LM.js";function P(){const{id:i}=m(),d=w(),n="http://localhost:3005",{register:o,handleSubmit:t,watch:u,formState:{errors:r}}=p(),c=async a=>{if(a.password!==a.confirmPassword){e.error("Passwords do not match");return}if(a.password=="Password@123"){e.error("New Password cannot be the default password");return}try{(await h.post(`${n}/change-password/${i}`,{password:a.password})).data.success?(e.success("Password changed successfully"),d("/login")):e.error("Failed to change password")}catch{e.error("An error occurred. Please try again.")}};return s.jsxs("div",{className:"d-flex vh-100 align-items-center justify-content-center bg-light",children:[s.jsx(f,{position:"top-right",reverseOrder:!1}),s.jsx("div",{className:"w-100",style:{maxWidth:"400px"},children:s.jsxs("div",{className:"card shadow-sm p-4",children:[s.jsx("h2",{className:"text-center mb-4",children:"Change Password"}),s.jsxs("form",{onSubmit:t(c),children:[s.jsxs("div",{className:"mb-3",children:[s.jsx("label",{className:"form-label",children:"New Password"}),s.jsx("input",{type:"password",className:`form-control ${r.password?"is-invalid":""}`,placeholder:"Enter new password",...o("password",{required:"Password is required"})}),r.password&&s.jsx("div",{className:"invalid-feedback",children:r.password.message})]}),s.jsxs("div",{className:"mb-3",children:[s.jsx("label",{className:"form-label",children:"Confirm Password"}),s.jsx("input",{type:"password",className:`form-control ${r.confirmPassword?"is-invalid":""}`,placeholder:"Confirm new password",...o("confirmPassword",{required:"Confirm Password is required"})}),r.confirmPassword&&s.jsx("div",{className:"invalid-feedback",children:r.confirmPassword.message})]}),s.jsx("button",{type:"submit",className:"btn btn-primary w-100",children:"Change Password"})]})]})})]})}export{P as default};
